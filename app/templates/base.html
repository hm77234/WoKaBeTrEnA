<!DOCTYPE html>
<html>
<head>
    <title>{{ t.title }}</title>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <style>
        body { font-family: Arial; max-width: 800px; margin: 0 auto; padding: 20px; }
        nav { background: #f0f0f0; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        .btn-admin { background: #007bff; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px; }
        .btn-danger { background: #ff0008; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px; }
        .btn-student { background: #28a745; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px; }
        .lang-badge { background: #e9ecef; padding: 4px 8px; margin: 2px; border-radius: 12px; }
        .word-info { font-family: Arial; font-size: 14px;}
        flash { color: green; margin: 10px 0; }
        .container { max-width: 1140px; margin: 0 auto; padding: 0 15px; }
        .row { display: flex; flex-wrap: wrap; margin: 0 -15px; }
        .col-md-8 { flex: 0 0 auto; width: 66.66667%; max-width: 66.66667%; padding: 0 15px; }
        .question { padding: 1rem 1rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: .375rem; }
        .bg-light { background-color: #f8f9fa !important; }
        .bg-question { background-color: #f9d1ae !important; }
        .card { box-shadow: 0 .125rem .25rem rgba(0,0,0,.075); border: 1px solid rgba(0,0,0,.125); border-radius: .375rem; }
        .card-header { padding: 1rem 1.25rem; margin-bottom: 0; border-bottom: 1px solid rgba(0,0,0,.125); }
        .bg-primary { background-color: #0d6efd !important; color: white; }
        .card-body { padding: 1.25rem; }
        .card {
            margin: 0 auto;           /* center card */
            max-width: 700px;         /* prevent too wide */
        }
        .full-center {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        .card-container {
            width: 100%;
            max-width: 700px;
        }
        .mb-3 { margin-bottom: 1rem !important; }
        .mb-4 { margin-bottom: 1.5rem !important; }
        .form-label { display: block; margin-bottom: .5rem; }
        .form-select, .form-control { display: block; width: 100%; padding: .375rem .75rem; font-size: 1rem; border: 1px solid #ced4da; border-radius: .375rem; box-sizing: border-box; }
        .form-control-lg { padding: .5rem 1rem; font-size: 1.25rem; border-radius: .5rem; }
        .text-center { text-align: center !important; }
        .fs-1 { font-size: calc(1.375rem + 1.5vw) !important; }
        .fs-2 { font-size: calc(1.25rem + 0.75vw) !important; }
        .fs-3 { font-size: calc(1.1875rem + 0.375vw) !important; }
        .alert { padding: 1rem 1rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: .375rem; }
        .alert-info { color: #055160; background-color: #cff4fc; border-color: #b6effb; }
        .alert-success { color: #0f5132; background-color: #d1e7dd; border-color: #badbcc; }
        .alert-warning { color: #664d03; background-color: #fff3cd; border-color: #ffecb5; }
        .btn { display: inline-block; font-weight: 400; line-height: 1.5; text-align: center; text-decoration: none; padding: .375rem .75rem; font-size: 1rem; border-radius: .375rem; border: 1px solid transparent; cursor: pointer; }
        .btn-primary { color: #fff; background-color: #0d6efd; border-color: #0d6efd; }
        .btn-secondary { color: #fff; background-color: #6c757d; border-color: #6c757d; }
        .btn-lg { padding: .5rem 1rem; font-size: 1.25rem; border-radius: .5rem; }
        .shadow { box-shadow: 0 .15rem 1.75rem 0 rgba(58,59,69,.15) !important; }
        .text-white { color: #fff !important; }
        .mt-5 { margin-top: 3rem !important; }
        .py-4 { padding-top: 1.5rem !important; padding-bottom: 1.5rem !important; }
        .px-5 { padding-right: 3rem !important; padding-left: 3rem !important; }
        .ms-2 { margin-left: .5rem !important; }
        .alert-dismissible .btn-close { float: right; padding: .75rem 1rem; margin: -0.75rem -1rem -0.75rem 1rem; }
        .fade.show { opacity: 1; }

    </style>
</head>
<body>

  
    
    <!-- Your nav and content here -->

    <!-- Navigation -->
 <nav>
    {% if current_user.is_authenticated %}
        Hello {{ current_user.username }} 
        {% if current_user.is_admin %}
            ({{ icons['is_admin']}})
        {% elif current_user.is_student%}
            ({{ icons['is_student']}})
        {% else %}
            ({{ icons['unknown']}})
        {% endif %}
        - {{ icons['logout'] }} <a href="{{ url_for('logout') }}">{{ t.logout or 'Logout' }}</a> 
        - {{ icons['change_password'] }} <a href="{{ url_for('change_pw.change_password') }}">Change Password</a>
        {% if current_user.is_admin %}
        - {{icons[ 'reset_testgroup'] }} <a href="/reset_test_group">{{ t['reset_testgroup'] or 'Reset testgroup' }}</a>
        {% endif %}
        - {{ icons['home'] }} <a href="/">{{ t['home'] or 'Home' }}</a>
    {% else %}
        - <a href="{{ url_for('login') }}">{{ t.login }}</a>
    {% endif %}
    
    

</nav>

    <!-- Admin-Only Links -->
    {% if current_user.is_admin %}
    <div style="background:#e7f3ff; padding:10px; border-radius:4px; margin-bottom:20px;">
        <a href="/admin" class="btn-admin"> Dashboard</a>
        <a href="/admin/users" class="btn-admin">{{ icons['students'] }} User</a>
        <a href="/admin/groups_stats" class="btn-admin">{{ icons['admin_groups'] }} Group Stats</a>
        <a href="/admin/backup-db" class="btn-admin">{{ icons['save'] }} Backup DB</a>
        <a href="/admin/restore-db" class="btn-admin">{{ icons['restore'] }} Restore DB</a>
        <a href="/admin/reset-db" class="btn-danger">{{ icons['danger'] }} Reset DB</a>
    </div>
    {% endif %}


    <!-- Student-Only Links -->
    {% if is_student() %}
        <div style="background:#e8f5e8; padding:10px; border-radius:4px; margin-bottom:20px;">
            <a href="{{ url_for('stats') }}" class="btn-student">{{ icons['stats'] }} Meine Stats</a>
        </div>
    {% endif %}

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div style="background:#d4edda; color:#155724; padding:15px; border-radius:4px; margin-bottom:20px;">
                {{ messages[0] }}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Page Content -->
    {% block content %}{% endblock %}

    <footer style="margin-top:40px; text-align:center; color:#666;">
        <small>WoKaBeTrEnA - {{ config.MUTTERLANG|upper() }} - Ver.: {{ config.VERSION }}</small>
        Â 
    </footer>

</body>
</html>
